import org.apache.tools.ant.filters.ReplaceTokens // We use this to replace version in plugin.yml

apply plugin: 'java' 
apply plugin: 'eclipse' 
apply plugin: 'idea'

group = 'it.gabryca'
version = '0.1'
archivesBaseName = 'PrisonRanks'

sourceCompatibility = '1.8' // Put the minimum version of Java you want your plugin to run on
targetCompatibility = '1.8' // Put the minimum version of Java you want your plugin to run on

def bukkitVersion = '1.14.4-R0.1-SNAPSHOT'

repositories {
    jcenter()

    maven {
		url 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/' // Spigot repo
	}

    maven {
		url 'https://oss.sonatype.org/content/repositories/snapshots/' // Sonatype snapshots
	}
}

dependencies {
	  compile (group: 'org.spigotmc', name: 'spigot', version: bukkitVersion)
}

/* This will replace '@VERSION@' in the plugin.yml with the version declared above, just put '@VERSION@' for the version in the plugin.yml */
processResources {
    filter ReplaceTokens, tokens: [
            "0.1": version
    ]
}

compileJava.options.encoding = 'UTF-8' // Encode your source code with UTF-8


// Generate Sources Jar
task sourcesJar(type: Jar) {
	classifier 'sources'
	from sourceSets.main.allSource
}

// Generate Javadoc Jar
task javadocJar(type: Jar) {
	classifier 'javadoc'
	from javadoc.destinationDir
}

artifacts {
	archives sourcesJar, javadocJar // Build Sources and Javadoc Jar
}
